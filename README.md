## アプリ概要
個人がおすすめする飲食店の情報を共有するアプリです!
写真の投稿や、紹介されているお店の評価ができるようになっています。
ゲストログインできますので、そちらからお試しください。

## 環境
|/|Version|
|:--:|:--:|
|Ruby|'3.0.3'|
|Ruby on Rails|'6.1.4'|
|nuxt|'2.15.8'|
|docker|'20.10.12'|
|docker-compose|'1.29.1'|
|terraform|'1.0.0'|
|Vuetify|'2.6.1'|
|Jest|'27.4.4'|
|ESLint|'8.9.0'|
|RSpec|'5.1.0'|
|rubocop|'1.25.1'|

## 主な使用技術
### フロントエンド
|使用技術|使用用途|選定理由|
|:--:|:--:|:--:|
|Nuxt.js|SPAでの開発|SPAで開発する上で必要と考え、またVue.jsより効率よくコードをかけるため。初学者にとっては他のライブラリよりも学習コストが低いと感じたため。|
|Vuetify|UIの構築|効率よくUIを構築できると考えたため。|
|Jest|store周りのテスト|フロントエンドのテストに関して記事が豊富に揃っていたため。|
|ESLint|コード整形|一般的に使用されている技術でドキュメントが豊富なため。|

#### 工夫した点
##### 1. vue-chartjsを使用したグラフの表示
`vue-chartjs`を用いて投稿の年代別いいね率をクラフで表示。

##### 2. GoogleのThe Map Embed APIを使用した地図の表示
投稿の店名と最寄り駅から該当する飲食店の地図をAPIで取得。

##### 3. 条件検索
投稿に対してカテゴリーで検索できる機能を実装。

### バックエンド
|使用技術|使用用途|選定理由|
|:--:|:--:|:--:|
|Ruby on Rails|APIとして使用|日本語のドキュメントが多く、開発する上で学習コストが低いと感じたため。
|Rspec|テストの実行|Railsのテストで最も使われているツールで、わからないことを調べやすいと感じたため。|
|Rubocop|コード整形|Rspecと合わせてよく使用されている技術であるため。|

#### 工夫した点
##### 1. 複数枚の画像投稿機能
ActiveStoregeを使用して画像を複数枚投稿できる機能を実装。

##### 2. トークン認証
devise_token_authを利用してトークン認証を実装。

##### 3. テストデータの簡潔定義
FactoryBotを用いてテストで使用するデータを簡潔に定義。

### インフラ
|使用技術|使用用途|選定理由|
|:--:|:--:|:--:|
|terraform|インフラ構築|インフラを構築を効率化するため。|
|ECS（Fargate）|サーバレスの構築、オートスケーリング|オートスケーリング等により管理を効率化するため。|
|CircleCi|CI/CD環境の構築|デプロイの自動化によって作業効率を上げるため。|
|Github|コード管理|コードの保存のため。|

#### 工夫した点
##### 1. terraformのファイル構成
管理がしやすいようにAWSの機能ごとにファイルを分割。

##### 2. インスタンスの配置
不要なアクセスを避けるために、主要インスタンスをすべてプライペートサブネットに配置。
外部との通信にはNAT Gatewayを使用。

#### 3. AWSサービス間の通信
S3, SSM, ECRとの通信をPrivateLinkを利用することで、インターネットを介さずに通信を可能にしている。

## 機能一覧
|機能|仕様|
|:--:|:--:|
|サインアップ、ログイン、サインアウト機能|devise_token_authのトークン認証でサインアップ、ログイン、サインアウトできる|
|パスワード変更機能|パスワードとパスワード確認を入力すると編集ができる|
|プロフィール編集機能|ユーザー名、プロフィール画像、自己紹介、メールアドレスの変更ができる|
|フォロー、アンフォロー機能|各ユーザーをフォロー、アンフォローができる|
|投稿作成機能|店名、最寄り駅、写真、コメント、カテゴリーが投稿ができる|
|投稿削除機能|自分で作成した投稿の削除ができる|
|画像投稿機能|RailsのActiveStorageを使って複数画像の投稿ができる|
|ユーザー削除機能|ユーザー削除ボタンを押しアラートで確認ができるとユーザーの削除ができる|
|カテゴリー検索機能|投稿をカテゴリー別で検索ができる|
|ブックマーク機能|自分以外のユーザーの投稿をブックマークできる|
|いいね機能|自分以外のユーザーの投稿に「また行きたい！」というプラスの評価ができる|
|悪いね機能|自分以外のユーザーの投稿に「う〜ん」というマイナスの評価ができる|
|グラフ表示機能|投稿に対して評価したユーザーの年代別いいね率を表示|
|GoogleMap表示機能|投稿の店名、最寄り駅からお店の位置をGoogleMapで表示|

## ER図
![ER図](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/629084/445ea1e0-601c-ccf1-1a17-431e44ad906a.png)

## AWS構成図
![AWS構成図](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/629084/0d302d32-3384-7e15-e00b-7e0c02340ac8.png)

## 今後実装しようと思う機能
1. レスポンシブデザイン化
2. 投稿のVieｗ数を表示
3. いいね、View数などのランキング表示機能
4. デザインの修正
5. 投稿編集機能

## 反省点
全体的に設計を最初の段階で詰めれてなかったため、
